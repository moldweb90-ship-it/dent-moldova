# üéØ –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç: –°–∏—Å—Ç–µ–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. **–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è**
- ‚úÖ Service Worker –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏ API –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
- ‚úÖ 3 —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è: Cache First, Network First, Stale While Revalidate
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤, API –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ç—Ä–∞–Ω–∏—Ü

### 2. **–ê–¥–º–∏–Ω–∫–∞ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∫–µ—à–µ–º**
- ‚úÖ –ù–æ–≤—ã–π —Ç–∞–± "–ö–µ—à" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∞–¥–º–∏–Ω–∫–∏
- ‚úÖ –§–æ—Ä–º–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ö–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ—á–∏—Å—Ç–∫–∏ –∫–µ—à–∞
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–µ—à–∞

### 3. **API endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–µ—à–µ–º**
- ‚úÖ `GET /api/admin/cache/settings` - –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ `GET /api/admin/cache/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–µ—à–∞
- ‚úÖ `POST /api/admin/cache/clear` - –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞

### 4. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–µ–ø–ª–æ–π**
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–µ—à–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ —Å—Ä–µ–¥–∞–º (dev/prod)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é

## üóÑÔ∏è –ü—Ä–æ–±–ª–µ–º–∞ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

### ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê**
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–µ—à–∞ –∑–∞–ø–∏—Å–∞–ª–∏—Å—å **—Ç–æ–ª—å–∫–æ –≤ –¥–µ–≤–µ–ª–æ–ø–µ—Ä—Å–∫—É—é –ë–î** –Ω–∞ Neon:
- **Development**: `ep-noisy-glade-a27o92qc-pooler.eu-central-1.aws.neon.tech`
- **Production**: –î—Ä—É–≥–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–æ—Ç–¥–µ–ª—å–Ω–∞—è)

### üîß **–†–µ—à–µ–Ω–∏–µ**
–°–æ–∑–¥–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ç–µ–∫—É—â–µ–π —Å—Ä–µ–¥–µ
npm run check:cache

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
npm run init:cache:prod
```

## üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–µ—à–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```json
{
  "cacheEnabled": "true",
  "cacheStrategy": "staleWhileRevalidate",
  "staticAssetsEnabled": "true",
  "staticAssetsDuration": "30", // –¥–Ω–∏
  "staticAssetsMaxSize": "100", // MB
  "apiDataEnabled": "true",
  "apiDataDuration": "15", // –º–∏–Ω—É—Ç—ã
  "apiEndpoints": "clinics,cities,districts,services",
  "pagesEnabled": "true",
  "pagesDuration": "2", // —á–∞—Å—ã
  "pagesPreload": "true"
}
```

## üöÄ –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è

### 1. **–î–µ–ø–ª–æ–π –∫–æ–¥–∞**
```bash
git push origin main
```

### 2. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–µ—à–∞** ‚ö†Ô∏è **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û**
```bash
npm run init:cache:prod
```

### 3. **–ü—Ä–æ–≤–µ—Ä–∫–∞**
```bash
npm run check:cache
```

### 4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω–∫—É ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ö–µ—à
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- –°–∞–π—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–µ—à–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
- –ê–¥–º–∏–Ω–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- Service Worker —Å–æ–∑–¥–∞–Ω –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è
- –°–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

### üì± **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–∞–π—Ç –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- –£–ª—É—á—à–µ–Ω–Ω—ã–π UX –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –∫ —Å–∞–π—Ç—É
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏ API –¥–∞–Ω–Ω—ã—Ö

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `client/src/administrator/components/Settings.tsx` - —Ç–∞–± "–ö–µ—à" –≤ –∞–¥–º–∏–Ω–∫–µ
- `client/public/sw.js` - Service Worker
- `client/src/lib/serviceWorker.ts` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker
- `server/routes.ts` - API endpoints –¥–ª—è –∫–µ—à–∞

### **–°–∫—Ä–∏–ø—Ç—ã:**
- `scripts/init-cache-settings.ts` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –¥–µ–≤–µ–ª–æ–ø–º–µ–Ω—Ç–∞
- `scripts/init-cache-settings-production.ts` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- `scripts/check-cache-settings-env.ts` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ —Å—Ä–µ–¥–∞–º

### **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `CACHE_DEPLOYMENT_GUIDE.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é
- `CACHE_SYSTEM_SUMMARY.md` - —ç—Ç–æ—Ç –æ—Ç—á–µ—Ç

## üéØ **–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞**

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–∞–π—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å Service Worker

## ‚ö†Ô∏è **–í–ê–ñ–ù–û –¥–ª—è –¥–µ–ø–ª–æ—è**

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–µ—à–∞ –ù–ï –ü–ï–†–ï–ù–û–°–Ø–¢–°–Ø –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–∂–¥—É —Å—Ä–µ–¥–∞–º–∏!**

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –∑–∞–ø—É—Å—Ç–∏—Ç—å:
```bash
npm run init:cache:prod
```

## üéâ **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç. –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–µ—à–∞.
